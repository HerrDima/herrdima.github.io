{"version":3,"file":"page-cms-article-create.4e2b5f.chunk.js","mappings":"oSAcA,MAAM,MAACA,GAAS,IAET,SAASC,IACZ,MAAMC,GAAW,WAEVC,QAASC,EAAeC,aAAcC,IAA6B,QAGxE,MAgBF,OACI,UAAC,IAAO,YACJ,SAACN,EAAK,CAACO,MAAO,EAAC,iCACf,SAAC,IAAU,CACPC,QAAS,KACF,SACHC,IAAI,WAERC,KAAM,YACNC,SAvBZ,SAAwBH,GACpBJ,EAAcI,GACTI,MAAMC,IAGHX,GAAS,QAAqBM,EAAQC,KAEtC,aAAgB,4BAA4B,IAE/CK,OAAOC,IACJ,WAAc,UAAUA,EAAaC,UAAU,GAE3D,KAaQ,SAAC,IAAO,CAACC,OAAQX,EAA2BY,SAAS,YAV5C,SAarB,C","sources":["webpack://typescript-project/./www/page/cms/cms-article/cms-article-create/cms-article-create.tsx"],"sourcesContent":["import {Typography, message} from 'antd';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nimport {CmsArticle} from '../cms-article';\r\nimport {makeDefaultArticle} from '../../../../../server/article/article-helper';\r\nimport {CmsArticleModeEnum} from '../cms-article-const';\r\nimport {ArticleType} from '../../../../../server/article/article-type';\r\nimport {postArticleCreate} from '../../../../service/article/article-api';\r\nimport {useMakeExecutableState} from '../../../../util/function';\r\nimport {getRandomString} from '../../../../util/string';\r\nimport {Spinner} from '../../../../layout/spinner/spinner';\r\nimport {CmsPage} from '../../layout/cms-page/cms-page';\r\nimport {getArticleLinkToEdit} from '../cms-article-helper';\r\n\r\nconst {Title} = Typography;\r\n\r\nexport function CmsArticleCreate(): JSX.Element {\r\n    const navigate = useNavigate();\r\n\r\n    const {execute: createArticle, isInProgress: isInProgressCreateArticle} = useMakeExecutableState<\r\n        Parameters<typeof postArticleCreate>,\r\n        ArticleType\r\n    >(postArticleCreate);\r\n\r\n    function handleOnFinish(article: ArticleType) {\r\n        createArticle(article)\r\n            .then((savedArticle: ArticleType) => {\r\n                console.log(savedArticle);\r\n\r\n                navigate(getArticleLinkToEdit(article.id));\r\n\r\n                message.success('Article has been created!');\r\n            })\r\n            .catch((requestError: Error) => {\r\n                message.error(`ERROR: ${requestError.message}`);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <CmsPage key=\"create\">\r\n            <Title level={2}>Create new article</Title>\r\n            <CmsArticle\r\n                article={{\r\n                    ...makeDefaultArticle(),\r\n                    id: getRandomString(),\r\n                }}\r\n                mode={CmsArticleModeEnum.create}\r\n                onFinish={handleOnFinish}\r\n            />\r\n            <Spinner isShow={isInProgressCreateArticle} position=\"fixed\" />\r\n        </CmsPage>\r\n    );\r\n}\r\n"],"names":["Title","CmsArticleCreate","navigate","execute","createArticle","isInProgress","isInProgressCreateArticle","level","article","id","mode","onFinish","then","savedArticle","catch","requestError","message","isShow","position"],"sourceRoot":""}